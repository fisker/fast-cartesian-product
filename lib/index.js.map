{"version":3,"file":"index.js","sources":["../src/length-accumulator.js","../src/get-product-by-index.js","../src/index.js"],"sourcesContent":["function lengthAccumulator(accumulator, {length}) {\n  return accumulator * length\n}\n\nexport default lengthAccumulator\n","\nfunction getProductByIndex(sets, index) {\n  let i = index\n  const {length} = sets\n  return sets.map(subSets => {\n    const {length} = subSets\n\t\tconst index = i % length;\n    i -= index\n    i /= length\n    return subSets[index]\n  })\n}\n\nexport default getProductByIndex","import lengthAccumulator from './length-accumulator'\nimport getProductByIndex from './get-product-by-index'\n\nclass FastCartesianProduct {\n  constructor(sets) {\n    this.sets = sets\n  }\n\n  get(index) {\n    return getProductByIndex(this.sets, index)\n  }\n\n  [Symbol.iterator] () {\n    const {length} = this\n    const index = 0\n\n    return {\n      next() {\n        const done = index >= length\n        const value = this.get(index)\n\n        index += 1\n\n        return {\n          value,\n          done\n        }\n      }\n    }\n  }\n\n  get array() {\n    return Array.from(this)\n  }\n\n  get set() {\n    return new Set(this)\n  }\n\n  get length() {\n    return this.sets.reduce(lengthAccumulator, 1)\n  }\n}\n\nexport default FastCartesianProduct\n"],"names":["lengthAccumulator","accumulator","length","getProductByIndex","sets","index","i","map","subSets","FastCartesianProduct","Symbol","iterator","next","done","value","get","Array","from","Set","reduce"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA,SAASA,iBAAT,CAA2BC,WAA3B,QAAkD;EAAA,MAATC,MAAS,QAATA,MAAS;EAChD,SAAOD,WAAW,GAAGC,MAArB;EACD;;ECDD,SAASC,iBAAT,CAA2BC,IAA3B,EAAiCC,KAAjC,EAAwC;EACtC,MAAIC,CAAC,GAAGD,KAAR;EADsC,MAE/BH,MAF+B,GAErBE,IAFqB,CAE/BF,MAF+B;EAGtC,SAAOE,IAAI,CAACG,GAAL,CAAS,SAAAC,OAAO,EAAI;EAAA,QAClBN,MADkB,GACRM,OADQ,CAClBN,MADkB;EAE3B,QAAMG,KAAK,GAAGC,CAAC,GAAGJ,MAAlB;EACEI,IAAAA,CAAC,IAAID,KAAL;EACAC,IAAAA,CAAC,IAAIJ,MAAL;EACA,WAAOM,OAAO,CAACH,KAAD,CAAd;EACD,GANM,CAAP;EAOD;;MCRKI;;;EACJ,kCAAYL,IAAZ,EAAkB;EAAA;;EAChB,WAAKA,IAAL,GAAYA,IAAZ;EACD;;;;;8BAEGC,OAAO;EACT,iBAAOF,iBAAiB,CAAC,KAAKC,IAAN,EAAYC,KAAZ,CAAxB;EACD;;;eAEAK,MAAM,CAACC;kCAAa;EAAA,cACZT,MADY,GACF,IADE,CACZA,MADY;EAEnB,cAAMG,KAAK,GAAG,CAAd;EAEA,iBAAO;EACLO,YAAAA,IADK,kBACE;EACL,kBAAMC,IAAI,GAAGR,KAAK,IAAIH,MAAtB;EACA,kBAAMY,KAAK,GAAG,KAAKC,GAAL,CAASV,KAAT,CAAd;EAEAA,cAAAA,KAAK,8BAAI,CAAJ,CAAL;EAEA,qBAAO;EACLS,gBAAAA,KAAK,EAALA,KADK;EAELD,gBAAAA,IAAI,EAAJA;EAFK,eAAP;EAID;EAXI,WAAP;EAaD;;;;8BAEW;EACV,iBAAOG,KAAK,CAACC,IAAN,CAAW,IAAX,CAAP;EACD;;;;8BAES;EACR,iBAAO,IAAIC,GAAJ,CAAQ,IAAR,CAAP;EACD;;;;8BAEY;EACX,iBAAO,KAAKd,IAAL,CAAUe,MAAV,CAAiBnB,iBAAjB,EAAoC,CAApC,CAAP;EACD;;;;;;;;;"}