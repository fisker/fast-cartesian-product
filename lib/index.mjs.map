{"version":3,"file":"index.mjs","sources":["../src/index.js"],"sourcesContent":["function lengthAccumulator(accumulator, {length}) {\n  return accumulator * length\n}\n\nclass FastCartesianProduct {\n  constructor(sets) {\n    this.sets = sets\n  }\n\n  get(index) {\n    const setsArray = this.sets\n    const {length: setsLength} = setsArray\n    const set = new Array(setsLength)\n\n    let indexRemaining = index\n\n    let j = index\n\n    for (let i = setsLength -1; i >= 0; i-=1) {\n      const subSets = this.sets[i]\n\n      const {length} = subSets\n      const index = indexRemaining % length;\n      indexRemaining -= index\n      indexRemaining /= length\n      set[i] = subSets[index]\n    }\n\n    return set\n  }\n\n  [Symbol.iterator] () {\n    const instance = this\n    const {size} = instance\n    let index = 0\n\n    return {\n      next() {\n        const done = index >= size\n        const value = instance.get(index)\n\n        index += 1\n\n        return {\n          value,\n          done\n        }\n      }\n    }\n  }\n\n  get size() {\n    let size = 1\n    const {length: setsLength} = this.sets\n    for (let i = 0; i < setsLength; i+=1) {\n      const subSets = this.sets[i]\n      const {length} = subSets\n      size = size * length\n      if (!isFinite(size)) {\n        break\n      }\n    }\n\n    return size\n  }\n}\n\nexport default FastCartesianProduct\n"],"names":["FastCartesianProduct","sets","index","setsArray","setsLength","length","set","Array","indexRemaining","i","subSets","Symbol","iterator","instance","size","next","done","value","get","isFinite"],"mappings":";;;;;;;;;;;;;;;;;;;;;;IAIMA;;;kCACQC,IAAZ,EAAkB;;;WACXA,IAAL,GAAYA,IAAZ;;;;;;4BAGEC,OAAO;cACHC,SAAS,GAAG,KAAKF,IAAvB;cACeG,UAFN,GAEoBD,SAFpB,CAEFE,MAFE;cAGHC,GAAG,GAAG,IAAIC,KAAJ,CAAUH,UAAV,CAAZ;cAEII,cAAc,GAAGN,KAArB;AAEA;eAEK,IAAIO,CAAC,GAAGL,UAAU,GAAE,CAAzB,EAA4BK,CAAC,IAAI,CAAjC,EAAoCA,CAAC,IAAE,CAAvC,EAA0C;gBAClCC,OAAO,GAAG,KAAKT,IAAL,CAAUQ,CAAV,CAAhB;gBAEOJ,MAHiC,GAGvBK,OAHuB,CAGjCL,MAHiC;;gBAIlCH,MAAK,GAAGM,cAAc,GAAGH,MAA/B;;YACAG,cAAc,IAAIN,MAAlB;YACAM,cAAc,IAAIH,MAAlB;YACAC,GAAG,CAACG,CAAD,CAAH,GAASC,OAAO,CAACR,MAAD,CAAhB;;;iBAGKI,GAAP;;;;aAGDK,MAAM,CAACC;gCAAa;cACbC,QAAQ,GAAG,IAAjB;cACOC,IAFY,GAEJD,QAFI,CAEZC,IAFY;cAGfZ,KAAK,GAAG,CAAZ;iBAEO;YACLa,IADK,kBACE;kBACCC,IAAI,GAAGd,KAAK,IAAIY,IAAtB;kBACMG,KAAK,GAAGJ,QAAQ,CAACK,GAAT,CAAahB,KAAb,CAAd;cAEAA,KAAK,IAAI,CAAT;qBAEO;gBACLe,KAAK,EAALA,KADK;gBAELD,IAAI,EAAJA;eAFF;;WAPJ;;;;;4BAeS;cACLF,IAAI,GAAG,CAAX;cACeV,UAFN,GAEoB,KAAKH,IAFzB,CAEFI,MAFE;;eAGJ,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,UAApB,EAAgCK,CAAC,IAAE,CAAnC,EAAsC;gBAC9BC,OAAO,GAAG,KAAKT,IAAL,CAAUQ,CAAV,CAAhB;gBACOJ,MAF6B,GAEnBK,OAFmB,CAE7BL,MAF6B;YAGpCS,IAAI,GAAGA,IAAI,GAAGT,MAAd;;gBACI,CAACc,QAAQ,CAACL,IAAD,CAAb,EAAqB;;;;;iBAKhBA,IAAP;;;;;;;;;"}