{"version":3,"file":"index.mjs","sources":["../src/length-accumulator.js","../src/get-product-by-index.js","../src/index.js"],"sourcesContent":["function lengthAccumulator(accumulator, {length}) {\n  return accumulator * length\n}\n\nexport default lengthAccumulator\n","\nfunction getProductByIndex(sets, index) {\n  let i = index\n  const {length} = sets\n  return sets.map(subSets => {\n    const {length} = subSets\n\t\tconst index = i % length;\n    i -= index\n    i /= length\n    return subSets[index]\n  })\n}\n\nexport default getProductByIndex","import lengthAccumulator from './length-accumulator'\nimport getProductByIndex from './get-product-by-index'\n\nclass FastCartesianProduct {\n  constructor(sets) {\n    this.sets = sets\n  }\n\n  get(index) {\n    return getProductByIndex(this.sets, index)\n  }\n\n  [Symbol.iterator] () {\n    const {length} = this\n    const index = 0\n\n    return {\n      next() {\n        const done = index >= length\n        const value = this.get(index)\n\n        index += 1\n\n        return {\n          value,\n          done\n        }\n      }\n    }\n  }\n\n  get array() {\n    return Array.from(this)\n  }\n\n  get set() {\n    return new Set(this)\n  }\n\n  get length() {\n    return this.sets.reduce(lengthAccumulator, 1)\n  }\n}\n\nexport default FastCartesianProduct\n"],"names":["lengthAccumulator","accumulator","length","getProductByIndex","sets","index","i","map","subSets","FastCartesianProduct","Symbol","iterator","next","done","value","get","Array","from","Set","reduce"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,iBAAT,CAA2BC,WAA3B,QAAkD;MAATC,MAAS,QAATA,MAAS;SACzCD,WAAW,GAAGC,MAArB;;;ACAF,SAASC,iBAAT,CAA2BC,IAA3B,EAAiCC,KAAjC,EAAwC;MAClCC,CAAC,GAAGD,KAAR;MACOH,MAF+B,GAErBE,IAFqB,CAE/BF,MAF+B;SAG/BE,IAAI,CAACG,GAAL,CAAS,SAAAC,OAAO,EAAI;QAClBN,MADkB,GACRM,OADQ,CAClBN,MADkB;QAErBG,KAAK,GAAGC,CAAC,GAAGJ,MAAlB;IACEI,CAAC,IAAID,KAAL;IACAC,CAAC,IAAIJ,MAAL;WACOM,OAAO,CAACH,KAAD,CAAd;GALK,CAAP;;;ICDII;;;kCACQL,IAAZ,EAAkB;;;WACXA,IAAL,GAAYA,IAAZ;;;;;;4BAGEC,OAAO;iBACFF,iBAAiB,CAAC,KAAKC,IAAN,EAAYC,KAAZ,CAAxB;;;;aAGDK,MAAM,CAACC;gCAAa;cACZT,MADY,GACF,IADE,CACZA,MADY;cAEbG,KAAK,GAAG,CAAd;iBAEO;YACLO,IADK,kBACE;kBACCC,IAAI,GAAGR,KAAK,IAAIH,MAAtB;kBACMY,KAAK,GAAG,KAAKC,GAAL,CAASV,KAAT,CAAd;cAEAA,KAAK,8BAAI,CAAJ,CAAL;qBAEO;gBACLS,KAAK,EAALA,KADK;gBAELD,IAAI,EAAJA;eAFF;;WAPJ;;;;;4BAeU;iBACHG,KAAK,CAACC,IAAN,CAAW,IAAX,CAAP;;;;;4BAGQ;iBACD,IAAIC,GAAJ,CAAQ,IAAR,CAAP;;;;;4BAGW;iBACJ,KAAKd,IAAL,CAAUe,MAAV,CAAiBnB,iBAAjB,EAAoC,CAApC,CAAP;;;;;;;;;"}